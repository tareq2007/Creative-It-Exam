{% extends "main.html" %}

{% block content %}

<style>
  body {
    background: linear-gradient(135deg, #e0e7ff 0%, #f0f4f8 100%);
    min-height: 100vh;
  }
  .glass-table {
    margin: 2rem auto;
    width: 95%;
    border-radius: 1rem;
    background: rgba(255, 255, 255, 0.25);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.18);
    overflow: hidden;
  }
  .glass-table th, .glass-table td {
    padding: 1rem;
    text-align: center;
    vertical-align: middle;
    color: #22223b;
    background: rgba(255,255,255,0.15);
  }
  .glass-table th {
    background: rgba(99, 102, 241, 0.15);
    font-weight: 600;
    letter-spacing: 0.05em;
  }
  .glass-table tr {
    transition: background 0.2s;
  }
  .glass-table tr:hover {
    background: rgba(99, 102, 241, 0.07);
  }
  .form-control, .btn {
    border-radius: 2rem;
  }
  .btn-outline-primary {
    border-width: 2px;
  }
  h1 {
    font-weight: 700;
    color: #3730a3;
    text-shadow: 0 2px 8px rgba(99,102,241,0.08);
  }
</style>

<div class="container py-4">
  <h1 class="mb-4 text-center">Student Record Management System (Full Web CRUD without API)</h1>
  <hr />

  <form class="d-flex justify-content-center mb-4" role="search">
    <input
      class="form-control me-2 shadow-sm"
      style="max-width: 300px;"
      type="search"
      name="search"
      value="{{ search }}"
      placeholder="Search"
      aria-label="Search"
    />
    <button class="btn btn-outline-primary shadow-sm" type="submit">Search</button>
  </form>

  <div class="table-responsive">
    <table class="glass-table table align-middle">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Roll</th>
          <th>Department</th>
          <th>Created At</th>
          <th>
            <a href="{% url 'add-student' %}" class="text-primary" title="Add Student">
              <i class="fa-solid fa-user-plus"></i>
            </a>
          </th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for student in students %}
        <tr>
          <td>{{ student.name }}</td>
          <td>{{ student.email }}</td>
          <td>{{ student.roll_number }}</td>
          <td>{{ student.departmet }}</td>
          <td>{{ student.created_at|timesince }}</td>
          <td>
            <a href="{% url 'update-student' student.id %}" class="text-warning" title="Edit">
              <i class="fa-solid fa-wrench"></i>
            </a>
          </td>
          <td>
            <a href="{% url 'delete-student' student.id %}" class="text-danger" title="Delete">
              <i class="fa-solid fa-trash-can"></i>
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock content %}
